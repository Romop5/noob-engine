using vec3 = struct
{
    float x;
    float y;
    float z;
};

vec3 cVec3(float x, float y, float z)
{
    vec3 tmp;
    tmp.x = x;
    tmp.y = y;
    tmp.z = z;
    return tmp;
}

using cube = struct
{
    vec3 position;
    float sz;
};

cube cCube(vec3 pos, float sz)
{
    cube tmp;
    tmp.position = pos;
    tmp.sz = sz;
    return tmp;
}

using rl = rule cube
{
    return true;
}
{
    float newSize = this.sz/2.0;
    appendSymbol(cCube(cVec3(this.position.x-this.sz,this.position.y-this.sz,this.position.z) ,newSize));

    appendSymbol(cCube(cVec3(this.position.x+this.sz,this.position.y-this.sz,this.position.z) ,newSize));

    appendSymbol(cCube(cVec3(this.position.x,this.position.y,this.position.z) ,newSize));
};


int init()
{
    appendSymbol(cCube(cVec3(0.0,5.0,0.0),20.0));
    appendSymbol(cCube(cVec3(0.0,0.0,10.0),10.0));
    appendSymbol(cCube(cVec3(0.0,0.0,-10.0),10.0));
}

